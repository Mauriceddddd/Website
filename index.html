<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>MiniWiki Einfach</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

</head>
<body>

<h1>MiniWiki Einfach</h1>

<!-- Artikel-Liste -->
<div id="articleList"></div>

<!-- Artikel hinzufügen -->
<h3>Neuen Artikel hinzufügen</h3>
<input id="title" placeholder="Titel"><br><br>
<textarea id="text" rows="5" placeholder="Text"></textarea><br><br>
<button onclick="saveArticle()">Speichern</button>

<script>
// --- Firebase Config ---
const firebaseConfig = {
  apiKey: "DEIN_API_KEY",
  authDomain: "DEIN_PROJEKT.firebaseapp.com",
  projectId: "DEIN_PROJEKT"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// --- Artikel laden ---
function loadArticles() {
  db.collection("articles").onSnapshot(snapshot => {
    const list = document.getElementById("articleList");
    list.innerHTML = "";
    snapshot.forEach(doc => {
      const a = doc.data();
      list.innerHTML += `<h2>${a.title}</h2><p>${a.text}</p><hr>`;
    });
  });
}

// --- Artikel speichern ---
function saveArticle() {
  const title = document.getElementById("title").value.trim();
  const text = document.getElementById("text").value.trim();
  if(!title || !text) return alert("Titel & Text erforderlich");

  db.collection("articles").add({title, text})
    .then(() => {
      document.getElementById("title").value = "";
      document.getElementById("text").value = "";
      alert("Artikel gespeichert ✅");
    })
    .catch(err => alert("Fehler beim Speichern! Siehe Console."));
}

// --- Start ---
loadArticles();
</script>

</body>
</html>
